name: Ruby linters
description: Run Ruby Linters

runs:
  using: "composite"
  steps:
    - name: Download workspace
      uses: actions/download-artifact@v4
      with:
        name: workspace.tar.gz

    - name: Extract workspace
      run: tar zxf workspace.tar.gz
      shell: bash

    - name: Install bundle
      run: bundle install
      shell: bash

    - name: Chusaku
      run: bundle exec chusaku --dry-run --exit-with-error-on-annotation
      shell: bash

    - name: Brakeman
      run: bundle exec brakeman -q -w2
      shell: bash

    - run: echo "ðŸŸ¢ Done"
      shell: bash
