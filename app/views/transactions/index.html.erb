<h1>
  Balance
  <%= 'compnay view' if @view == 'company' %>
  <%= 'owner view' if @view == 'owner' %>
  <%= 'accounting view' if @view == 'accounting' %>
</h1>

<div class="mb-2 d-print-none">
  <%= form_with(url: transactions_path, method: :get, local: true, class: 'form-inline') do |form| %>
        <%= date_field_tag :from, {}, value: @from, class: "form-control mb-2 mr-2" %>
        <%= date_field_tag :to, {}, value: @to, class: "form-control mb-2 mr-2" %>
        <%= form.select :user_id,
              User.with_role(['Owner']).map {|u| [u.name, u.id]},
              { include_blank: 'Company', selected: params[:user_id] },
              class: "form-control mb-2 mr-sm-2" %>
        <%= form.submit 'Company view', class: "btn btn-primary mb-2 mr-2" %>
        <%= form.submit 'Owner view', class: "btn btn-primary mb-2 mr-2" %>
        <%= form.submit 'Accounting view', class: "btn btn-primary mb-2 mr-2" %>
        <%= link_to 'Drop filter', transactions_path, class: 'btn btn-secondary mb-2 mr-2'  %>
  <% end %>
</div>

<% if @error %>
<div class="alert alert-warning" role="alert">
  <%= @error %>
</div>

<% else %>
  <%= link_to 'New Transaction', new_transaction_path %>
  <% if @view == 'company' %>
    <%= render 'company_view', transactions: @transactions %>
  <% elsif @view == 'owner' %>
    <%= render 'owner_view', transactions: @transactions %>
  <% elsif @view == 'accounting' %>
    <%= render 'owner_accounting_view', transactions: @transactions %>
  <% end %>
<% end %>
